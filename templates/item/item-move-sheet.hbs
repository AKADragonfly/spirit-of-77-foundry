<form class="{{cssClass}}" autocomplete="off">
  <header class="sheet-header">
    <img src="{{item.img}}" data-edit="img" title="{{item.name}}" height="64" width="64"/>
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{item.name}}" placeholder="Move Name"/></h1>
    </div>
  </header>
  
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="description">Description</a>
    <a class="item" data-tab="details">Details</a>
  </nav>
  
  <section class="sheet-body">
    <div class="tab" data-group="primary" data-tab="description">
      <div class="form-group">
        <label>Description:</label>
        {{editor system.description target="system.description" button=true owner=owner editable=editable}}
      </div>
    </div>
    
    <div class="tab" data-group="primary" data-tab="details">
      {{!-- CRITICAL: Preserve moveType with actual value --}}
      <input name="system.moveType" type="hidden" value="{{#if system.moveType}}{{system.moveType}}{{else}}basic{{/if}}"/>
      
      <div class="form-group">
        <label>Move Type:</label>
        <span>{{capitalize (if system.moveType system.moveType "basic")}}</span>
        <small>Move type is set when creating the move</small>
      </div>
      
      <div class="form-group">
        <label>Stat:</label>
        <select name="system.stat">
          {{#each statOptions}}
          <option value="{{key}}" {{#if selected}}selected{{/if}}>{{label}}</option>
          {{/each}}
        </select>
      </div>
      
      <div class="form-group">
        <label>Move Modifier:</label>
        <div style="display: flex; gap: 10px; align-items: center;">
          <input name="system.modifier" type="text" value="{{system.modifier}}" placeholder="+1" style="width: 60px;"/>
          <input name="system.modifierDescription" type="text" value="{{system.modifierDescription}}" placeholder="when acting cool under pressure" style="flex: 1;"/>
        </div>
        <small>Optional static bonus/penalty for this move</small>
      </div>
      
      <div class="results-section">
        <h3>Results</h3>
        
        <div class="result-group">
          <label>Success Threshold:</label>
          <input name="system.success.value" type="number" value="{{#if system.success.value}}{{system.success.value}}{{else}}10{{/if}}" min="1" max="12"/>
          <label>Success Text:</label>
          <textarea name="system.success.text" rows="3" placeholder="What happens on a success...">{{system.success.text}}</textarea>
        </div>
        
        <div class="result-group">
          <label>Partial Success Threshold:</label>
          <input name="system.partial.value" type="number" value="{{#if system.partial.value}}{{system.partial.value}}{{else}}7{{/if}}" min="1" max="12"/>
          <label>Partial Success Text:</label>
          <textarea name="system.partial.text" rows="3" placeholder="What happens on a partial success...">{{system.partial.text}}</textarea>
        </div>
        
        <div class="result-group">
          <label>Failure Text:</label>
          <textarea name="system.failure.text" rows="3" placeholder="What happens on a failure...">{{system.failure.text}}</textarea>
        </div>
      </div>
      
      <div class="form-group">
        <button type="button" class="rollable" data-roll-type="item">
          <i class="fas fa-dice-d20"></i> Roll Move
        </button>
      </div>
    </div>
  </section>
</form>
